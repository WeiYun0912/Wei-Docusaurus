"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5641],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var s=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,s,r=function(e,n){if(null==e)return{};var t,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=s.createContext({}),m=function(e){var n=s.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=m(e.components);return s.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},u=s.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=m(t),g=r,d=u["".concat(l,".").concat(g)]||u[g]||c[g]||a;return t?s.createElement(d,i(i({ref:n},p),{},{components:t})):s.createElement(d,i({ref:n},p))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=u;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var m=2;m<a;m++)i[m]=t[m];return s.createElement.apply(null,i)}return s.createElement.apply(null,t)}u.displayName="MDXCreateElement"},1548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>m});var s=t(7462),r=(t(7294),t(3905));const a={title:"[typescript] TypeScript Zod",keywords:["javascript","typescript"],description:"TypeScript Zod",author:"WeiYun0912","og:title":"[typescript] TypeScript Zod","og:description":"TypeScript Zod",sidebar_position:1},i=void 0,o={unversionedId:"TypeScript/TypeScript-Zod",id:"TypeScript/TypeScript-Zod",title:"[typescript] TypeScript Zod",description:"TypeScript Zod",source:"@site/docs/TypeScript/TypeScript-Zod.md",sourceDirName:"TypeScript",slug:"/TypeScript/TypeScript-Zod",permalink:"/Wei-Docusaurus/docs/TypeScript/TypeScript-Zod",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"[typescript] TypeScript Zod",keywords:["javascript","typescript"],description:"TypeScript Zod",author:"WeiYun0912","og:title":"[typescript] TypeScript Zod","og:description":"TypeScript Zod",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"[typescript] TypeScript \u57fa\u790e (\u4f7f\u7528 Vite \u5efa\u7acb\u74b0\u5883)",permalink:"/Wei-Docusaurus/docs/TypeScript/TypeScript-Basic"}},l={},m=[{value:"\u5b98\u65b9\u6587\u4ef6",id:"\u5b98\u65b9\u6587\u4ef6",level:2},{value:"\u74b0\u5883\u8a2d\u5b9a",id:"\u74b0\u5883\u8a2d\u5b9a",level:2},{value:"Basic",id:"basic",level:2},{value:"Primitives",id:"primitives",level:3},{value:"parse",id:"parse",level:3},{value:"safeParse",id:"safeparse",level:3},{value:"object",id:"object",level:3},{value:"optional",id:"optional",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"default",id:"default",level:3},{value:"Validation",id:"validation",level:2},{value:"max &amp; min (Number &amp; Strings)",id:"max--min-number--strings",level:3},{value:"email (Strings)",id:"email-strings",level:3},{value:"url (Strings)",id:"url-strings",level:3},{value:"enum",id:"enum",level:3},{value:"nativeEum",id:"nativeeum",level:3},{value:"Object",id:"object-1",level:2},{value:"partial",id:"partial",level:3},{value:"pick",id:"pick",level:3},{value:"omit",id:"omit",level:3},{value:"extend",id:"extend",level:3},{value:"merge",id:"merge",level:3},{value:"passthrough",id:"passthrough",level:3},{value:"strict",id:"strict",level:3},{value:"array",id:"array",level:2},{value:"tuple",id:"tuple",level:2},{value:"union",id:"union",level:2},{value:"record",id:"record",level:2},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:2}],p={toc:m};function c(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,s.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u5b98\u65b9\u6587\u4ef6"},"\u5b98\u65b9\u6587\u4ef6"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://zod.dev/?id=table-of-contents"},"Zod")),(0,r.kt)("h2",{id:"\u74b0\u5883\u8a2d\u5b9a"},"\u74b0\u5883\u8a2d\u5b9a"),(0,r.kt)("p",null,"\u5148\u521d\u59cb\u5316 TypeScript \u5c08\u6848\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm create vite@latest \u4f60\u7684\u5c08\u6848\u540d\u7a31 -- --template vanilla-ts\n")),(0,r.kt)("p",null,"\u63a5\u8457\u5b89\u88dd Zod\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install zod\n")),(0,r.kt)("p",null,"\u4e26\u78ba\u4fdd ",(0,r.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"strict")," \u6b04\u4f4d\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:"title='tsconfig.json' showLineNumbers {8}",title:"'tsconfig.json'",showLineNumbers:!0,"{8}":!0},'{\n  "compilerOptions": {\n    "target": "ESNext",\n    "useDefineForClassFields": true,\n    "module": "ESNext",\n    "lib": ["ESNext", "DOM"],\n    "moduleResolution": "Node",\n    "strict": true,\n    "resolveJsonModule": true,\n    "isolatedModules": false,\n    "esModuleInterop": true,\n    "noEmit": true,\n    "noUnusedLocals": true,\n    "noUnusedParameters": true,\n    "noImplicitReturns": true,\n    "skipLibCheck": true\n  },\n  "include": ["src"]\n}\n')),(0,r.kt)("h2",{id:"basic"},"Basic"),(0,r.kt)("h3",{id:"primitives"},"Primitives"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\n// primitive values\nz.string();\nz.number();\nz.bigint();\nz.boolean();\nz.date();\nz.symbol();\n\n// empty types\nz.undefined();\nz.null();\nz.void(); // accepts undefined\n\n// catch-all types\n// allows any value\nz.any();\nz.unknown();\n\n// never type\n// allows no values\nz.never();\n')),(0,r.kt)("h3",{id:"parse"},"parse"),(0,r.kt)("p",null,"\u8981\u4f7f\u7528 Zod \u9032\u884c\u578b\u5225\u9a57\u8b49\u7684\u8a71\uff0c\u5fc5\u9808\u5148\u5b9a\u7fa9\u578b\u5225\uff0c\u5728\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"parse")," \u4f86\u9a57\u8b49\u4f60\u7684\u8b8a\u6578\u662f\u5426\u6709\u5305\u542b\u8a72\u578b\u5225\u3002"),(0,r.kt)("p",null,"\u8981\u662f parse \u9a57\u8b49\u901a\u904e\u7684\u8a71\uff0c\u5c31\u6703\u76f4\u63a5\u8f38\u51fa\u8b8a\u6578\u7684\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst MessageSchema = z.string();\n\nconst message = "Hello World";\n\nconsole.log(MessageSchema.parse(message)); // Hello World\n')),(0,r.kt)("p",null,"\u4f46\u5982\u679c\u8b8a\u6578\u4e0d\u7b26\u5408\u6211\u5011\u5b9a\u7fa9\u7684\u578b\u5225\u985e\u578b\uff0cVS Code \u96d6\u7136\u4e0d\u6703\u6709\u63d0\u793a\uff0c\u4f46\u662f\u700f\u89bd\u5668\u7684 console \u6703\u6709\u932f\u8aa4\u51fa\u73fe\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst MessageSchema = z.string();\n\nconst message = 123;\n\n//error\nconsole.log(MessageSchema.parse(message));\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/qidGx37.png",alt:"Image"})),(0,r.kt)("h3",{id:"safeparse"},"safeParse"),(0,r.kt)("p",null,"\u5982\u679c\u4e0d\u60f3\u8b93\u7a0b\u5f0f\u56e0\u70ba\u932f\u8aa4\u800c\u4e2d\u65b7\u57f7\u884c\uff0c\u5247\u53ef\u4ee5\u6539\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"safeParse"),"\uff0csafeParse \u6703\u56de\u50b3\u4e00\u500b\u7269\u4ef6\uff0c\u88e1\u9762\u5c31\u5305\u542b\u9a57\u8b49\u6210\u529f\u6216\u5931\u6557\u7684\u8a0a\u606f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst MessageSchema = z.string();\n\nconst message = 123;\n\n//error\nconsole.log(MessageSchema.safeParse(message));\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/IZVS9gh.png",alt:"Image"})),(0,r.kt)("p",null,"\u8207\u5931\u6557\u4e0d\u540c\uff0c\u9a57\u8b49\u901a\u904e\u7684\u8a71\uff0c\u8a72\u7269\u4ef6\u5167\u6703\u6709\u8b8a\u6578\u7684\u8cc7\u6599\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {7}",title:"'src/main.ts'",showLineNumbers:!0,"{7}":!0},'import { z } from "zod";\n\nconst MessageSchema = z.string();\n\nconst message = "Hello World";\n\nconsole.log(MessageSchema.safeParse(message));\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/aFNYKRB.png",alt:"Image"})),(0,r.kt)("h3",{id:"object"},"object"),(0,r.kt)("p",null,"\u5982\u679c\u8981\u5b9a\u7fa9\u4e00\u500b\u7269\u4ef6\u578b\u5225\uff0c\u5247\u53ef\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"z.object")," \u642d\u914d ",(0,r.kt)("inlineCode",{parentName:"p"},"z.infer"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3-6,15}",title:"'src/main.ts'",showLineNumbers:!0,"{3-6,15}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number(),\n});\n\n/**\n * type User = {\n *   username: string;\n *   age: number;\n * }\n */\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  username: "Wei",\n  age: 25,\n};\n\nconsole.log(Wei);\n')),(0,r.kt)("h3",{id:"optional"},"optional"),(0,r.kt)("p",null,"\u5728 TypeScript \u5167\uff0c\u5982\u679c\u8981\u8b93\u578b\u5225\u662f\u53ef\u9078\u7684\u8a71\uff0c\u5247\u6703\u5728\u578b\u5225\u540d\u7a31\u52a0\u4e0a ",(0,r.kt)("inlineCode",{parentName:"p"},"?"),"\uff0c\u800c\u5982\u679c\u662f\u4f7f\u7528 Zod \u5247\u9700\u8981\u5728\u578b\u5225\u5f8c\u9762\u52a0\u4e0a ",(0,r.kt)("inlineCode",{parentName:"p"},".optional()"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {5}",title:"'src/main.ts'",showLineNumbers:!0,"{5}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  username: "Wei",\n  age: 25,\n};\n\nconsole.log(Wei);\n')),(0,r.kt)("h3",{id:"error-handling"},"Error Handling"),(0,r.kt)("p",null,"\u5982\u679c\u9700\u8981\u8a73\u7d30\u67e5\u770b\u578b\u5225\u932f\u8aa4\u7d66\u4e88\u7684\u932f\u8aa4\u8a0a\u606f\uff0c\u5247\u53ef\u4ee5\u5148\u5224\u65b7 ",(0,r.kt)("inlineCode",{parentName:"p"},"safeParse().success")," \u56de\u50b3\u7684\u7d50\u679c\u662f\u5426\u56de false\uff0cfalse \u5c31\u4ee3\u8868\u6709\u932f\u8aa4\u767c\u751f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  //highlight\n  username: z.string(),\n  age: z.number().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  //error\n  username: 1,\n  age: -1,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/shlNKfI.png",alt:"Image"})),(0,r.kt)("p",null,"\u5982\u679c\u53ea\u60f3\u8981\u55ae\u7d14\u7684\u986f\u793a\u932f\u8aa4\u8a0a\u606f\uff0c\u5247\u9700\u8981\u5b89\u88dd Zod \u7684\u9a57\u8b49\u5957\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"zod-validation-error"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install zod-validation-error\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\nimport { fromZodError } from "zod-validation-error";\nconst UserSchema = z.object({\n  //highlight\n  username: z.string({ invalid_type_error: "username \u6b04\u4f4d\u61c9\u70ba\u5b57\u4e32\u578b\u5225" }),\n  age: z.number().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  //error\n  username: 1,\n  age: -1,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(fromZodError(result.error));\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/w9aumTa.png",alt:"Image"})),(0,r.kt)("h3",{id:"default"},"default"),(0,r.kt)("p",null,"\u5728\u5b9a\u7fa9\u578b\u5225\u7684\u540c\u6642\uff0cZod \u4e5f\u5141\u8a31\u6211\u5011\u5b9a\u7fa9\u9810\u8a2d\u503c\uff0c\u5728\u578b\u5225\u5f8c\u9762\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," \u5373\u53ef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {4}",title:"'src/main.ts'",showLineNumbers:!0,"{4}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string().default("user"),\n  age: z.number().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  age: 25,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/HhROkVE.png",alt:"Image"})),(0,r.kt)("p",null,"\u751a\u81f3\u53ef\u4ee5\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," \u5167\u4f7f\u7528\u5176\u4ed6 Function\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {4}",title:"'src/main.ts'",showLineNumbers:!0,"{4}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string().default("user-" + crypto.randomUUID()),\n  age: z.number().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  age: 25,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/I7ft0Uh.png",alt:"Image"})),(0,r.kt)("h2",{id:"validation"},"Validation"),(0,r.kt)("p",null,"\u9664\u4e86\u53ef\u4ee5\u5b9a\u7fa9\u578b\u5225\u5916\uff0cZod \u4e5f\u63d0\u4f9b\u8a31\u591a\u9a57\u8b49\u65b9\u6cd5\u8b93\u6211\u5011\u4f7f\u7528\uff0c\u8a73\u7d30\u7684\u53ef\u4ee5\u53c3\u8003",(0,r.kt)("a",{parentName:"p",href:"https://zod.dev/?id=basic-usage"},"\u5b98\u7db2"),"\uff0c\u9019\u908a\u7c21\u55ae\u4ecb\u7d39\u5e7e\u500b\u3002"),(0,r.kt)("h3",{id:"max--min-number--strings"},"max & min (Number & Strings)"),(0,r.kt)("p",null,"\u5982\u679c\u578b\u5225\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"Number"),"\uff0c\u5247 ",(0,r.kt)("inlineCode",{parentName:"p"},"max")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"min")," \u662f\u7528\u4f86\u8a2d\u5b9a\u6700\u5927\u548c\u6700\u5c0f\u503c\u61c9\u70ba\u591a\u5c11\uff0c\u578b\u5225\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," \u7684\u8a71\uff0c\u5247\u662f\u8a2d\u5b9a\u5b57\u4e32\u9577\u5ea6\u6700\u5927\u548c\u6700\u5c0f\u61c9\u70ba\u591a\u5c11\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n      //highlight\n  username: z.string().max(2,{message : "username \u6b04\u4f4d\u7684\u5b57\u4e32\u6700\u5927\u9577\u5ea6\u61c9\u70ba 2"}),\n    //highlight\n  age: z.number().min(1,{message : "age \u6b04\u4f4d\u7684\u6700\u5c0f\u503c\u61c9\u70ba 1"}).optional(),\n});\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  //error\n  username: "Wei", //\u5b57\u4e32\u6700\u5927\u9577\u5ea6\u61c9\u70ba 2\n  //error\n  age: -1, //\u6578\u5b57\u6700\u5c0f\u503c\u61c9\u70ba 0\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/hSwFHrG.png",alt:"Image"})),(0,r.kt)("h3",{id:"email-strings"},"email (Strings)"),(0,r.kt)("p",null,"\u5224\u65b7\u5b57\u4e32\u662f\u5426\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"email")," \u683c\u5f0f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n  //highlight\n  email: z.string().email().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  username: "Wei",\n  age: 25,\n  //error\n  email: "yher25gmail.com",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/HwtBGpN.png",alt:"Image"})),(0,r.kt)("h3",{id:"url-strings"},"url (Strings)"),(0,r.kt)("p",null,"\u5224\u65b7\u5b57\u4e32\u662f\u5426\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"url")," \u683c\u5f0f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n  //highlight\n  website: z.string().url().optional(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei: User = {\n  username: "Wei",\n  age: 25,\n  //error\n  website: "httpsweiyun0912.github.io/Wei-Docusaurus/",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/w1HDvP8.png",alt:"Image"})),(0,r.kt)("h3",{id:"enum"},"enum"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"enum")," \u80fd\u9650\u5236\u8f38\u5165\u7684\u503c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n  //highlight\n  hobby: z.enum(["Sleep", "Eat", "Drink"]), // hobby \u53ea\u80fd\u63a5\u6536 "Sleep", "Eat", "Drink"\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 25,\n  //error\n  hobby: "",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/aShr7vs.png",alt:"Image"})),(0,r.kt)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u628a ",(0,r.kt)("inlineCode",{parentName:"p"},"enum")," \u8981\u653e\u7684\u503c\u5ba3\u544a\u6210\u4e00\u500b\u9663\u5217\uff0c\u50cf\u662f\u9019\u6a23\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3,8,16}",title:"'src/main.ts'",showLineNumbers:!0,"{3,8,16}":!0},'import { z } from "zod";\n\nconst hobbies = ["Sleep", "Eat", "Drink"];\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n  hobby: z.enum(hobbies),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 25,\n  hobby: "Eat",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,"\u96d6\u7136\u57f7\u884c\u8d77\u4f86\u6c92\u554f\u984c\uff0c\u4f46\u7de8\u8b6f\u5668\u6703\u51fa\u73fe\u932f\u8aa4\uff0c\u9019\u662f\u56e0\u70ba\u6211\u5011\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"hobbies")," \u9663\u5217\u662f\u80fd\u6539\u8b8a\u7684\uff0c Zod \u4e0d\u77e5\u9053\u6211\u5011\u7684\u9663\u5217\u662f\u5c6c\u65bc\u54ea\u7a2e\u578b\u5225\uff0c\u8981\u4fee\u6b63\u9019\u500b\u932f\u8aa4\u53ea\u8981\u5728\u9663\u5217\u5f8c\u9762\u52a0\u4e0a\u65b7\u8a00\u5373\u53ef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3}",title:"'src/main.ts'",showLineNumbers:!0,"{3}":!0},'import { z } from "zod";\n\nconst hobbies = ["Sleep", "Eat", "Drink"] as const;\n\n// \u9019\u6a23\u4e5f\u53ef\u4ee5\n// const hobbies = <const>["Sleep","Eat","Drink"] ;\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n  hobby: z.enum(hobbies),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 25,\n  hobby: "Eat",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("h3",{id:"nativeeum"},"nativeEum"),(0,r.kt)("p",null,"\u5982\u679c\u60f3\u8981\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"TypeScript")," \u4f86\u53e6\u5916\u5b9a\u7fa9 ",(0,r.kt)("inlineCode",{parentName:"p"},"enum")," \u7684\u8a71\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"nativeEum"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3-7,12,20}",title:"'src/main.ts'",showLineNumbers:!0,"{3-7,12,20}":!0},'import { z } from "zod";\n\nenum Hobbies {\n  Sleep = "sleep",\n  Eat = "eat",\n  Drink = "drink",\n}\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number().optional(),\n  hobby: z.nativeEnum(Hobbies),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 25,\n  hobby: Hobbies.Eat,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/TAWoogd.png",alt:"Image"})),(0,r.kt)("h2",{id:"object-1"},"Object"),(0,r.kt)("p",null,"Zod \u7269\u4ef6\u652f\u63f4\u7684\u65b9\u6cd5\u6709\u4e9b\u90fd\u662f\u6211\u5011\u5728 TypeScript \u4e2d\u6709\u4f7f\u7528\u904e\u7684\uff0c\u4f8b\u5982\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"partial"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"pick"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"omit")," \u7b49\u3002"),(0,r.kt)("h3",{id:"partial"},"partial"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"partial")," \u80fd\u5920\u8b93\u6240\u6709\u578b\u5225\u8b8a\u70ba\u53ef\u9078\u7684\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {11,13}",title:"'src/main.ts'",showLineNumbers:!0,"{11,13}":!0},'import { z } from "zod";\n\nconst hobbies = <const>["Sleep", "Eat", "Drink"];\n\nconst UserSchema = z\n  .object({\n    username: z.string(),\n    age: z.number(),\n    hobby: z.enum(hobbies),\n  })\n  .partial();\n\ntype User = z.infer<typeof UserSchema>;\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/PvtTgHr.png",alt:"Image"})),(0,r.kt)("p",null,"\u9019\u6a23\u5beb\u4e5f\u53ef\u4ee5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {13-15,17}",title:"'src/main.ts'",showLineNumbers:!0,"{13-15,17}":!0},'import { z } from "zod";\n\nconst hobbies = <const>["Sleep", "Eat", "Drink"];\n\nconst UserSchema = z.object({\n  username: z.string(),\n  age: z.number(),\n  hobby: z.enum(hobbies),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n};\n\nconst result = UserSchema.partial().safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/f7Ykorb.png",alt:"Image"})),(0,r.kt)("h3",{id:"pick"},"pick"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"pick")," \u80fd\u5f9e\u7269\u4ef6\u6311\u51fa\u8981\u7684\u578b\u5225\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {10,12}",title:"'src/main.ts'",showLineNumbers:!0,"{10,12}":!0},'import { z } from "zod";\n\nconst hobbies = <const>["Sleep", "Eat", "Drink"];\nconst UserSchema = z\n  .object({\n    username: z.string(),\n    age: z.number(),\n    hobby: z.enum(hobbies),\n  })\n  .pick({ username: true });\n\ntype User = z.infer<typeof UserSchema>;\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/FbV79Pi.png",alt:"Image"})),(0,r.kt)("h3",{id:"omit"},"omit"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"omit")," \u80fd\u6392\u9664\u4e0d\u8981\u7684\u578b\u5225\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {10,12}",title:"'src/main.ts'",showLineNumbers:!0,"{10,12}":!0},'import { z } from "zod";\n\nconst hobbies = <const>["Sleep", "Eat", "Drink"];\nconst UserSchema = z\n  .object({\n    username: z.string(),\n    age: z.number(),\n    hobby: z.enum(hobbies),\n  })\n  .omit({ username: true });\n\ntype User = z.infer<typeof UserSchema>;\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/4gLuIgp.png",alt:"Image"})),(0,r.kt)("h3",{id:"extend"},"extend"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"extend")," \u80fd\u6dfb\u52a0\u65b0\u7684\u578b\u5225\u81f3\u73fe\u6709\u7684\u578b\u5225\u7269\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {10,12}",title:"'src/main.ts'",showLineNumbers:!0,"{10,12}":!0},'import { z } from "zod";\n\nconst hobbies = <const>["Sleep", "Eat", "Drink"];\nconst UserSchema = z\n  .object({\n    username: z.string(),\n    age: z.number(),\n    hobby: z.enum(hobbies),\n  })\n  .extend({ email: z.string() });\n\ntype User = z.infer<typeof UserSchema>;\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/XmStSU4.png",alt:"Image"})),(0,r.kt)("h3",{id:"merge"},"merge"),(0,r.kt)("p",null,"\u5982\u679c\u5728\u539f\u5148\u7684\u7269\u4ef6\u578b\u5225\u5167\u60f3\u8981\u7d50\u5408\u5176\u4ed6\u7269\u4ef6\u578b\u5225\u7684\u6240\u6709\u6b04\u4f4d\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"merge"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {5-9,17,19}",title:"'src/main.ts'",showLineNumbers:!0,"{5-9,17,19}":!0},'import { z } from "zod";\n\nconst hobbies = <const>["Sleep", "Eat", "Drink"];\n\nconst FoodSchema = z.object({\n  name: z.string(),\n  price: z.number(),\n  amount: z.number(),\n});\n\nconst UserSchema = z\n  .object({\n    username: z.string(),\n    age: z.number(),\n    hobby: z.enum(hobbies),\n  })\n  .merge(FoodSchema);\n\ntype User = z.infer<typeof UserSchema>;\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/Kq8M2r4.png",alt:"Image"})),(0,r.kt)("h3",{id:"passthrough"},"passthrough"),(0,r.kt)("p",null,"\u5982\u679c\u5728\u7269\u4ef6\u5167\u50b3\u5165\u4e86\u4e00\u500b\u984d\u5916\u7684\u5c6c\u6027\uff0c\u4e14\u8a72\u5c6c\u6027\u6c92\u6709\u5728\u578b\u5225\u7269\u4ef6\u5167\u5b9a\u7fa9\uff0c\u9810\u8a2d\u7684\u60c5\u6cc1\u4e0b\u662f\u4e0d\u6703\u63a5\u6536\u5230\u9019\u500b\u5c6c\u6027\u7684\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3-5,11}",title:"'src/main.ts'",showLineNumbers:!0,"{3-5,11}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 20,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/24aW1sb.png",alt:"Image"})),(0,r.kt)("p",null,"\u5982\u679c\u5805\u6301\u8981\u628a\u984d\u5916\u7684\u5c6c\u6027\u63a5\u6536\u7684\u8a71\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"passthrough"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {7}",title:"'src/main.ts'",showLineNumbers:!0,"{7}":!0},'import { z } from "zod";\n\nconst UserSchema = z\n  .object({\n    username: z.string(),\n  })\n  .passthrough();\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 20,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/PkdydN1.png",alt:"Image"})),(0,r.kt)("h3",{id:"strict"},"strict"),(0,r.kt)("p",null,"\u540c\u4e0a\u7bc0\uff0c\u4e0d\u60f3\u8981\u63a5\u6536\u984d\u5916\u5c6c\u6027\u7684\u8a71\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"strict"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {7}",title:"'src/main.ts'",showLineNumbers:!0,"{7}":!0},'import { z } from "zod";\n\nconst UserSchema = z\n  .object({\n    username: z.string(),\n  })\n  .strict();\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  age: 20,\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/6Kj68DC.png",alt:"Image"})),(0,r.kt)("h2",{id:"array"},"array"),(0,r.kt)("p",null,"\u5982\u679c\u8981\u8b93\u9663\u5217\u5167\u7684\u5143\u7d20\u90fd\u662f\u67d0\u4e00\u578b\u5225\u4e14\u4e0d\u70ba\u7a7a\u7684\u8a71\uff0c\u5247\u53ef\u4ee5\u9019\u6a23\u5beb\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {5,12}",title:"'src/main.ts'",showLineNumbers:!0,"{5,12}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  friends: z.array(z.string()).nonempty(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  friends: ["1", "2", "3"],\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("h2",{id:"tuple"},"tuple"),(0,r.kt)("p",null,"\u4f7f\u7528 Tuple \u80fd\u56b4\u8b39\u5b9a\u7fa9\u9663\u5217\u5167\u7684\u578b\u5225\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  friends: z.tuple([z.string(), z.string()]), //\u53ea\u80fd\u88dd\u5169\u500b\u5b57\u4e32\u5143\u7d20\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  friends: ["1", "2"],\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,"\u5982\u679c\u60f3\u8981\u8b93 Tuple \u66f4\u52a0\u5f48\u6027\u7684\u8a71\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"rest"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers",title:"'src/main.ts'",showLineNumbers:!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  username: z.string(),\n  // \u7b2c\u4e00\u500b\u5143\u7d20\u548c\u7b2c\u4e8c\u500b\u5143\u7d20\u70ba\u5b57\u4e32\u578b\u5225\uff0c\u5269\u4e0b\u7684\u5143\u7d20\u50c5\u80fd\u662f\u6578\u5b57\u578b\u5225\n  friends: z.tuple([z.string(), z.string()]).rest(z.number()),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  username: "Wei",\n  //error\n  friends: ["1", "2", "3"], // \u767c\u751f\u932f\u8aa4\uff0c\u7b2c\u4e09\u500b\u5143\u7d20\u61c9\u70ba \u6578\u5b57\u578b\u5225\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("h2",{id:"union"},"union"),(0,r.kt)("p",null,"\u5982\u679c\u8981\u8b93\u4e00\u500b\u6b04\u4f4d\u6709\u5169\u7a2e\u578b\u5225\u7684\u8a71\uff0c\u53ef\u4ee5\u9019\u6a23\u5beb\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {4,11}",title:"'src/main.ts'",showLineNumbers:!0,"{4,11}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  id: z.string().or(z.number()), // id \u53ef\u4ee5\u662f \u5b57\u4e32\u578b\u5225 \u6216 \u6578\u5b57\u578b\u5225\n  username: z.string(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  id: "1",\n  username: "Wei",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,"\u6216\u662f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"union"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {4,11}",title:"'src/main.ts'",showLineNumbers:!0,"{4,11}":!0},'import { z } from "zod";\n\nconst UserSchema = z.object({\n  id: z.union([z.string(), z.number()]), // id \u53ef\u4ee5\u662f \u5b57\u4e32\u578b\u5225 \u6216 \u6578\u5b57\u578b\u5225\n  username: z.string(),\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nconst Wei = {\n  id: "1",\n  username: "Wei",\n};\n\nconst result = UserSchema.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("h2",{id:"record"},"record"),(0,r.kt)("p",null,"\u5982\u679c\u4e0d\u60f3\u5b9a\u7fa9\u7269\u4ef6\u7684 key \u540d\u7a31\uff0c\u4f46\u53c8\u60f3\u6307\u5b9a\u7269\u4ef6\u5167\u7684\u503c\u90fd\u4e00\u5b9a\u8981\u662f\u67d0\u7a2e\u578b\u5225\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"record"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3}",title:"'src/main.ts'",showLineNumbers:!0,"{3}":!0},'import { z } from "zod";\n\nconst UserMap = z.record(z.string()); // \u7269\u4ef6\u5167\u7684\u503c(value) \u50c5\u80fd\u662f \u5b57\u4e32\u578b\u5225\n\nconst Wei = {\n  id: "1",\n  username: "Wei",\n  aaa: "test",\n};\n\nconst result = UserMap.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,"\u6211\u5011\u4e5f\u53ef\u4ee5\u5b9a\u7fa9 key \u7684\u578b\u5225\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {3}",title:"'src/main.ts'",showLineNumbers:!0,"{3}":!0},'import { z } from "zod";\n\nconst UserMap = z.record(z.string(), z.string()); // {string : string}\n\nconst Wei = {\n  id: "1kk",\n  username: "Wei",\n};\n\nconst result = UserMap.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("p",null,"\u7576\u7136\u4f60\u4e5f\u53ef\u4ee5\u7d50\u5408\u5148\u524d\u5b78\u5230\u7684 validation\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='src/main.ts' showLineNumbers {4}",title:"'src/main.ts'",showLineNumbers:!0,"{4}":!0},'import { z } from "zod";\n\n// key \u7684\u5b57\u4e32\u9577\u5ea6\u6700\u5c11\u70ba 1, value \u7684\u5b57\u4e32\u9577\u5ea6\u6700\u591a\u70ba 30\nconst UserMap = z.record(z.string().min(1), z.string().max(30));\n\nconst Wei = {\n  id: "1kk",\n  username: "Wei",\n};\n\nconst result = UserMap.safeParse(Wei);\n\nif (!result.success) {\n  console.log(result.error.issues);\n} else {\n  console.log(result);\n}\n')),(0,r.kt)("h2",{id:"\u53c3\u8003\u8cc7\u6599"},"\u53c3\u8003\u8cc7\u6599"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/@WebDevSimplified"},"Web Dev Simplified")))}c.isMDXComponent=!0}}]);