"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9331],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>c});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),i=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):u(u({},t),e)),n},l=function(e){var t=i(e.components);return r.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=i(n),c=o,k=d["".concat(p,".").concat(c)]||d[c]||m[c]||a;return n?r.createElement(k,u(u({ref:t},l),{},{components:n})):r.createElement(k,u({ref:t},l))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,u=new Array(a);u[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,u[1]=s;for(var i=2;i<a;i++)u[i]=n[i];return r.createElement.apply(null,u)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},965:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>i});var r=n(7462),o=(n(7294),n(3905));const a={title:"[react] React Router DOM v6 \u4ecb\u7d39",keywords:["react","react\u6559\u5b78","javascript","react-router-dom","react-router"],description:"React\u6559\u5b78 - React Router v6 \u4ecb\u7d39 (Link\u3001NavLink\u3001Nested Routes\u3001Outlet\u3001useLocation\u3001useRoutes\u3001useNavigate)",author:"WeiYun0912","og:title":"React Router DOM v6 \u4ecb\u7d39","og:description":"React\u6559\u5b78 - React Router v6 \u4ecb\u7d39 (Link\u3001NavLink\u3001Nested Routes\u3001Outlet\u3001useLocation\u3001useRoutes\u3001useNavigate)"},u=void 0,s={unversionedId:"React/Package/React-Router-Dom-v6",id:"React/Package/React-Router-Dom-v6",title:"[react] React Router DOM v6 \u4ecb\u7d39",description:"React\u6559\u5b78 - React Router v6 \u4ecb\u7d39 (Link\u3001NavLink\u3001Nested Routes\u3001Outlet\u3001useLocation\u3001useRoutes\u3001useNavigate)",source:"@site/docs/React/Package/React-Router-Dom-v6.md",sourceDirName:"React/Package",slug:"/React/Package/React-Router-Dom-v6",permalink:"/Wei-Docusaurus/docs/React/Package/React-Router-Dom-v6",draft:!1,tags:[],version:"current",frontMatter:{title:"[react] React Router DOM v6 \u4ecb\u7d39",keywords:["react","react\u6559\u5b78","javascript","react-router-dom","react-router"],description:"React\u6559\u5b78 - React Router v6 \u4ecb\u7d39 (Link\u3001NavLink\u3001Nested Routes\u3001Outlet\u3001useLocation\u3001useRoutes\u3001useNavigate)",author:"WeiYun0912","og:title":"React Router DOM v6 \u4ecb\u7d39","og:description":"React\u6559\u5b78 - React Router v6 \u4ecb\u7d39 (Link\u3001NavLink\u3001Nested Routes\u3001Outlet\u3001useLocation\u3001useRoutes\u3001useNavigate)"},sidebar:"tutorialSidebar",previous:{title:"[react] React Router DOM v6.4 \u4ecb\u7d39",permalink:"/Wei-Docusaurus/docs/React/Package/React-Router-Dom-v6-4"},next:{title:"[react] React Router DOM v5 \u8207 v6 \u4e4b\u5dee\u7570\u4ecb\u7d39",permalink:"/Wei-Docusaurus/docs/React/Package/React-Router-Dom"}},p={},i=[{value:"\u5b89\u88dd",id:"\u5b89\u88dd",level:2},{value:"\u521d\u59cb\u6a94\u6848",id:"\u521d\u59cb\u6a94\u6848",level:2},{value:"BrowserRouter",id:"browserrouter",level:2},{value:"Routes and Route",id:"routes-and-route",level:2},{value:"useParams",id:"useparams",level:2},{value:"Link",id:"link",level:2},{value:"replace",id:"replace",level:3},{value:"reloadDocument",id:"reloaddocument",level:3},{value:"state",id:"state",level:3},{value:"NavLink",id:"navlink",level:2},{value:"404 Not Found",id:"404-not-found",level:2},{value:"Nested Routes",id:"nested-routes",level:2},{value:"Outlet",id:"outlet",level:2},{value:"Advanced 404 Not Found (useNavigate)",id:"advanced-404-not-found-usenavigate",level:2},{value:"useRoutes",id:"useroutes",level:2}],l={toc:i};function m(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=gV07Tqi0i_o"},"\u5f71\u7247\u4ecb\u7d39")),(0,o.kt)("h2",{id:"\u5b89\u88dd"},"\u5b89\u88dd"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install react-router-dom\n")),(0,o.kt)("h2",{id:"\u521d\u59cb\u6a94\u6848"},"\u521d\u59cb\u6a94\u6848"),(0,o.kt)("p",null,"\u5148\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"src")," \u8cc7\u6599\u593e\u5efa\u7acb\u4e00\u500b ",(0,o.kt)("inlineCode",{parentName:"p"},"pages")," \u7684\u8cc7\u6599\u593e\uff0c\u4e26\u5c07\u4ee5\u4e0b\u516d\u500b\u6a94\u6848\u65b0\u589e\u9032\u53bb\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"pages/Home.jsx"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"pages/Header.jsx"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"pages/Products.jsx"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"pages/Product.jsx"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"pages/Features.jsx"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"pages/NotFound.jsx")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Home.jsx' showLineNumbers",title:"'Home.jsx'",showLineNumbers:!0},'import React from "react";\n\nconst Home = () => {\n  return <h1>Home</h1>;\n};\n\nexport default Home;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Header.jsx' showLineNumbers",title:"'Header.jsx'",showLineNumbers:!0},'import React from "react";\n\nconst Header = () => {\n  return (\n    <nav>\n      <span>Home</span> | <span>Products</span>\n    </nav>\n  );\n};\n\nexport default Header;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Products.jsx' showLineNumbers",title:"'Products.jsx'",showLineNumbers:!0},'import React from "react";\n\nconst Products = () => {\n  return (\n    <>\n      <h1>Products</h1>\n    </>\n  );\n};\n\nexport default Products;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Product.jsx' showLineNumbers",title:"'Product.jsx'",showLineNumbers:!0},'import React from "react";\n\nconst Product = () => {\n  return <h1>Product</h1>;\n};\n\nexport default Product;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Features.jsx' showLineNumbers",title:"'Features.jsx'",showLineNumbers:!0},'import React from "react";\n\nconst Features = () => {\n  return <h1>Features</h1>;\n};\n\nexport default Features;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='NotFound.js' showLineNumbers",title:"'NotFound.js'",showLineNumbers:!0},'import React from "react";\n\nconst NotFound = () => {\n  return <h1>404 Not Found</h1>;\n};\n\nexport default NotFound;\n')),(0,o.kt)("h2",{id:"browserrouter"},"BrowserRouter"),(0,o.kt)("p",null,"\u63a5\u8457\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"main.jsx")," \u4e2d\uff0c\u5f15\u5165 ",(0,o.kt)("inlineCode",{parentName:"p"},"BrowserRouter"),"\uff0c\u5c07\u6574\u500b Application \u5305\u8d77\u4f86\uff0c\u6703\u5728 main \u5f15\u5165 BrowserRouter \u7684\u539f\u56e0\u662f\u56e0\u70ba\uff0c\u5f8c\u9762\u6703\u7528\u5230 useRoutes\uff0c\u5982\u679c\u4e0d\u628a BrowserRouter \u5305\u5728\u4e0a\u5c64\u7684\u8a71\u6703\u51fa\u932f\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='main.jsx' showLineNumbers",title:"'main.jsx'",showLineNumbers:!0},'import React from "react";\nimport ReactDOM from "react-dom/client";\nimport { BrowserRouter } from "react-router-dom";\nimport App from "./App";\nimport "./index.css";\n\nReactDOM.createRoot(document.getElementById("root")).render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n')),(0,o.kt)("h2",{id:"routes-and-route"},"Routes and Route"),(0,o.kt)("p",null,"\u73fe\u5728\u4f86\u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"App.jsx"),"\uff0c\u5c07 ",(0,o.kt)("inlineCode",{parentName:"p"},"Routes")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"Route")," \u5f15\u5165\uff0c\u9019\u908a\u8981\u6ce8\u610f\u7684\u662f\uff0cRoute \u5fc5\u9808\u5305\u5728 Routes \u88e1\u9762\uff0c\u800c Routes \u88e1\u9762\u53ea\u63a5\u6536 Route\uff0c\u5982\u679c\u76f4\u63a5\u5c07 Component \u653e\u5728 Routes \u88e1\u9762\u6e32\u67d3\u7684\u8a71\uff0c\u6703\u51fa\u73fe\u932f\u8aa4\uff0c\u6211\u5011\u4e5f\u9806\u4fbf\u5c07 ",(0,o.kt)("inlineCode",{parentName:"p"},"Header"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"Home"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"Products")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"Product")," \u5f15\u5165\u3002"),(0,o.kt)("p",null,"\u5728 Route \u4e2d\uff0c\u5fc5\u9808\u5b9a\u7fa9\u8def\u5f91 ",(0,o.kt)("inlineCode",{parentName:"p"},"path")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"element"),"\uff0cpath \u586b\u5165\u6307\u5b9a\u7684\u8def\u5f91\u4f4d\u7f6e\uff0c\u6307\u5b9a\u5b8c\u5f8c\u5f85\u6703\u5c07\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"Link")," Component \u4f86\u9023\u7d50\u5230\u4f60\u6307\u5b9a\u7684\u8def\u5f91\uff0c\u4e26\u6e32\u67d3\u51fa element(component) \u7684\u5167\u5bb9\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='App.jsx' showLineNumbers {1,3-6,10-15}",title:"'App.jsx'",showLineNumbers:!0,"{1,3-6,10-15}":!0},'import { Routes, Route } from "react-router-dom";\nimport "./App.css";\nimport Header from "./pages/Header";\nimport Home from "./pages/Home";\nimport Products from "./pages/Products";\nimport Product from "./pages/Product";\nfunction App() {\n  return (\n    <div className="App">\n      <Header />\n      <Routes>\n        <Route path="/home" element={<Home />} />\n        <Route path="/products" element={<Products />} />\n        <Route path="/products/:id" element={<Product />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("p",null,"\u9019\u6642\u5019\u53ef\u4ee5\u5148\u6253\u958b\u700f\u89bd\u5668\uff0c\u5728\u7db2\u5740\u4e0a\u8f38\u5165\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"127.0.0.1:port/products"),"\uff0c\u4ee5\u6211\u81ea\u5df1\u8209\u4f8b\uff0cport \u7684\u4f4d\u7f6e\u662f 5173\uff0c\u5c31\u8f38\u5165 ",(0,o.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:5173/products"),"\uff0c\u5c31\u53ef\u4ee5\u770b\u5230 Products Component \u7684\u756b\u9762\u4e86\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/s4MNPMe.png",alt:"Image"})),(0,o.kt)("p",null,"\u800c\u8f38\u5165 ",(0,o.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:5173/products/123"),"\uff0c\u5247\u6703\u770b\u5230 Product Component \u7684\u756b\u9762\u3002"),(0,o.kt)("h2",{id:"useparams"},"useParams"),(0,o.kt)("p",null,"\u5982\u679c\u8981\u53d6\u5f97 ",(0,o.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:5173/products/123")," \u5f8c\u9762\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"123"),"\uff0c\u5247\u5fc5\u9808\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"Product.jsx")," \u4e2d\u5f15\u5165 useParams\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Product.jsx' showLineNumbers",title:"'Product.jsx'",showLineNumbers:!0},'import React from "react";\nimport { useParams } from "react-router-dom";\n\nconst Product = () => {\n  const { id } = useParams();\n  return <h1>Product {id}</h1>;\n};\n\nexport default Product;\n')),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/pdfG3PS.png",alt:"Image"})),(0,o.kt)("h2",{id:"link"},"Link"),(0,o.kt)("p",null,"\u6211\u5011\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"Link")," Component \u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"to")," \u5c6c\u6027\uff0c\u4f86\u544a\u8a34\u700f\u89bd\u5668\u6211\u5011\u8981\u53bb\u54ea\u4e00\u500b path\uff0c\u7576\u7136 path \u662f\u4f60\u81ea\u5df1\u8981\u5728 Route \u5b9a\u7fa9\u7684\u3002"),(0,o.kt)("p",null,"\u6253\u958b ",(0,o.kt)("inlineCode",{parentName:"p"},"Header.jsx")," \u5f15\u5165 Link\uff0cHome \u548c Products \u4f7f\u7528 Link \u5305\u8d77\u4f86\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Header.jsx' showLineNumbers {2,8,12}",title:"'Header.jsx'",showLineNumbers:!0,"{2,8,12}":!0},'import React from "react";\nimport { Link } from "react-router-dom";\n\nconst Header = () => {\n  return (\n    <nav>\n      <span>\n        <Link to="/">Home</Link>\n      </span>{" "}\n      |{" "}\n      <span>\n        <Link to="/products">Products</Link>\n      </span>\n    </nav>\n  );\n};\n\nexport default Header;\n')),(0,o.kt)("p",null,"Link \u9664\u4e86\u6709 to \u5c6c\u6027\u53ef\u4ee5\u4f7f\u7528\u5916\uff0c\u9084\u6709\u5176\u4ed6\u5be6\u7528\u7684\u5c6c\u6027\uff0c\u50cf\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"replace"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"reloadDocument"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"state"),"\uff0c\u6211\u5011\u4e00\u500b\u4e00\u500b\u4ecb\u7d39\u3002"),(0,o.kt)("h3",{id:"replace"},"replace"),(0,o.kt)("p",null,"\u5982\u679c\u4e0d\u60f3\u8981\u4f7f\u7528\u8005\u9032\u5230\u67d0\u500b\u9801\u9762\u9084\u80fd\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"\u4e0a\u4e00\u9801")," \u7684\u529f\u80fd\uff0c\u5247\u53ef\u4ee5\u5728 Link \u52a0\u4e0a ",(0,o.kt)("inlineCode",{parentName:"p"},"replace")," \u5c6c\u6027\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Header.jsx' showLineNumbers",title:"'Header.jsx'",showLineNumbers:!0},'import React from "react";\nimport { Link } from "react-router-dom";\nconst Header = () => {\n  return (\n    <nav>\n      <span>\n        <Link to="/" replace>\n          Home\n        </Link>\n      </span>{" "}\n      |{" "}\n      <span>\n        <Link to="/products" replace>\n          Products\n        </Link>\n      </span>\n    </nav>\n  );\n};\nexport default Header;\n')),(0,o.kt)("h3",{id:"reloaddocument"},"reloadDocument"),(0,o.kt)("p",null,"\u5982\u679c\u60f3\u8981\u4f7f\u7528\u8005\u5230\u8a72\u9801\u9762 ",(0,o.kt)("inlineCode",{parentName:"p"},"\u91cd\u65b0\u6574\u7406")," \u6574\u500b\u9801\u9762\u7684\u6642\u5019\uff0c\u53ef\u4ee5\u5728 Link \u52a0\u4e0a ",(0,o.kt)("inlineCode",{parentName:"p"},"reloadDocument")," \u5c6c\u6027\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Header.jsx' showLineNumbers",title:"'Header.jsx'",showLineNumbers:!0},'import React from "react";\nimport { Link } from "react-router-dom";\nconst Header = () => {\n  return (\n    <nav>\n      <span>\n        <Link to="/" reloadDocument>\n          Home\n        </Link>\n      </span>{" "}\n      |{" "}\n      <span>\n        <Link to="/products" reloadDocument>\n          Products\n        </Link>\n      </span>\n    </nav>\n  );\n};\nexport default Header;\n')),(0,o.kt)("h3",{id:"state"},"state"),(0,o.kt)("p",null,"Link \u4e5f\u53ef\u4ee5\u50b3\u905e state \u5230\u8981\u5c0e\u5411\u7684\u9801\u9762\uff0c\u4f46\u8a72\u9801\u9762\u5c31\u5fc5\u9808\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"useLocation")," \u4f86\u53d6\u5f97\u50b3\u905e\u904e\u53bb\u7684 state\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Header.jsx' showLineNumbers",title:"'Header.jsx'",showLineNumbers:!0},'import React from "react";\nimport { Link } from "react-router-dom";\nconst Header = () => {\n  return (\n    <nav>\n      <span>\n        <Link to="/">Home</Link>\n      </span>{" "}\n      |{" "}\n      <span>\n        <Link to="/products" state={{ name: "wei" }}>\n          Products\n        </Link>\n      </span>\n    </nav>\n  );\n};\nexport default Header;\n')),(0,o.kt)("p",null,"\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"Products")," \u5f15\u5165 useLocation\uff0c\u4f86\u53d6\u5f97 state\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Products.jsx' showLineNumbers",title:"'Products.jsx'",showLineNumbers:!0},'import React from "react";\nimport { useLocation } from "react-router-dom";\n\nconst Products = () => {\n  const location = useLocation();\n  console.log(location);\n  return (\n    <>\n      <h1>Products</h1>\n    </>\n  );\n};\n\nexport default Products;\n')),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/GQTswcg.png",alt:"Image"})),(0,o.kt)("h2",{id:"navlink"},"NavLink"),(0,o.kt)("p",null,"NavLink \u548c Link \u5dee\u4e0d\u591a\uff0c\u90fd\u662f\u62ff\u4f86\u5c0e\u5411\u9801\u9762\u7684\uff0c\u4f46 NavLink \u6709\u500b isActive \u53c3\u6578\uff0c\u53ef\u4ee5\u5224\u65b7\u4f7f\u7528\u8005\u76ee\u524d\u662f\u5728\u54ea\u500b Route\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Header.jsx' showLineNumbers",title:"'Header.jsx'",showLineNumbers:!0},'import React from "react";\nimport { NavLink } from "react-router-dom";\nconst Header = () => {\n  return (\n    <nav>\n      <span>\n        <NavLink\n          to="/"\n          className={({ isActive }) => (isActive ? "active" : "")}\n        >\n          Home\n        </NavLink>\n      </span>{" "}\n      |{" "}\n      <span>\n        <NavLink\n          to="/products"\n          className={({ isActive }) => (isActive ? "active" : "")}\n        >\n          Products\n        </NavLink>\n      </span>\n    </nav>\n  );\n};\nexport default Header;\n')),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/iXksAJz.png",alt:"Image"})),(0,o.kt)("h2",{id:"404-not-found"},"404 Not Found"),(0,o.kt)("p",null,"\u5982\u679c\u5e0c\u671b\u4f7f\u7528\u8005\u5230\u5176\u4ed6\u4e0d\u5b58\u5728\u7684\u9801\u9762\u80fd\u5920\u986f\u793a 404 Not Found \u7684\u8a71\uff0c\u5247\u53ef\u4ee5\u5728 Route \u7684\u5730\u65b9",(0,o.kt)("inlineCode",{parentName:"p"},'\u5c07path\u5b9a\u7fa9\u70ba "*"'),"\uff0c\u66f4\u6539\u6210\u9019\u6a23\u5f8c\uff0c\u7576\u5339\u914d\u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"/home")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"/products")," \u4ee5\u5916\u7684\u7db2\u5740\uff0c\u90fd\u5c07\u5c0e\u5411\u81f3 NotFound \u9801\u9762\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='App.jsx' showLineNumbers {6,14}",title:"'App.jsx'",showLineNumbers:!0,"{6,14}":!0},'import { Routes, Route } from "react-router-dom";\nimport "./App.css";\nimport Header from "./pages/Header";\nimport Home from "./pages/Home";\nimport Products from "./pages/Products";\nimport NotFound from "./pages/NotFound";\nfunction App() {\n  return (\n    <div className="App">\n      <Header />\n      <Routes>\n        <Route path="/home" element={<Home />} />\n        <Route path="/products" element={<Products />} />\n        <Route path="*" element={<NotFound />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("h2",{id:"nested-routes"},"Nested Routes"),(0,o.kt)("p",null,"\u6211\u5011\u4e5f\u53ef\u4ee5\u4f7f\u7528 Nested Routes \u5c07 Route \u9032\u884c\u7c21\u55ae\u7684\u5206\u985e\uff0c\u9806\u4fbf\u5c07 ",(0,o.kt)("inlineCode",{parentName:"p"},"Features")," \u5f15\u5165\u9032\u884c\u6e2c\u8a66\u3002"),(0,o.kt)("p",null,"\u5728\u7b2c 17 \u884c\u7684\u5730\u65b9\uff0c\u5728 Route \u4e0a\u52a0\u4e0a ",(0,o.kt)("inlineCode",{parentName:"p"},"index"),"\uff0c\u610f\u601d\u662f\u7576\u6211\u5011\u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"/products")," \u6642\uff0c\u56e0\u70ba\u9084\u6c92\u6709\u5339\u914d\u5230\u5e95\u4e0b\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},":id")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"features"),"\uff0c\u6b63\u5e38\u7684\u60c5\u6cc1\u4e0b\u662f\u4e0d\u6703\u6e32\u67d3\u51fa\u4efb\u4f55\u756b\u9762\u7684\uff0c\u6240\u4ee5\u5148\u5c07 ",(0,o.kt)("inlineCode",{parentName:"p"},"Products")," \u7576\u505a ",(0,o.kt)("inlineCode",{parentName:"p"},"/products")," \u7684\u4e3b\u9801\u9762\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='App.jsx' showLineNumbers {8,16-20}",title:"'App.jsx'",showLineNumbers:!0,"{8,16-20}":!0},'import { Routes, Route } from "react-router-dom";\nimport "./App.css";\nimport Header from "./pages/Header";\nimport Home from "./pages/Home";\nimport Products from "./pages/Products";\nimport Product from "./pages/Product";\nimport NotFound from "./pages/NotFound";\nimport Features from "./pages/Features";\n\nfunction App() {\n  return (\n    <div className="App">\n      <Header />\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/products">\n          <Route index element={<Products />} />\n          <Route path=":id" element={<Product />} />\n          <Route path="features" element={<Features />} />\n        </Route>\n        <Route path="*" element={<NotFound />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("h2",{id:"outlet"},"Outlet"),(0,o.kt)("p",null,"\u5728 Products \u9801\u9762\u4e2d\uff0c\u6211\u5011\u9084\u6c92\u6709\u4f7f\u7528 Link \u8b93\u4f7f\u7528\u8005\u80fd\u5920\u5c0e\u5411 Product \u548c Features \u9801\u9762\uff0c\u73fe\u5728\u6642\u5019\u6709\u5169\u7a2e\u505a\u6cd5\u4f86\u5be6\u73fe\u9019\u500b\u529f\u80fd\u3002"),(0,o.kt)("p",null,"\u7b2c\u4e00\u7a2e\u505a\u6cd5\u662f\u76f4\u63a5\u5728 Products \u9801\u9762\u5f15\u5165 Link \u5c0e\u5411\u5230\u5176\u4ed6\u9801\u9762\uff0c\u7b2c\u4e8c\u7a2e\u505a\u6cd5\u662f\u65b0\u589e\u4e00\u500b\u6a94\u6848\uff0c\u5c07 Link \u5f15\u5165\u4e26\u4f7f\u7528\uff0c\u9019\u908a\u6211\u5011\u63a1\u7528\u7b2c\u4e8c\u7a2e\u505a\u6cd5\u3002"),(0,o.kt)("p",null,"\u5728 pages \u8cc7\u6599\u593e\uff0c\u65b0\u589e\u4e00\u500b\u6a94\u6848\uff0c\u540d\u70ba ",(0,o.kt)("inlineCode",{parentName:"p"},"ProductLayout.jsx"),"\uff0c\u4e26\u5c07\u4ee5\u4e0b\u7a0b\u5f0f\u78bc\u8cbc\u4e0a\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='ProductLayout.jsx' showLineNumbers",title:"'ProductLayout.jsx'",showLineNumbers:!0},'import React from "react";\nimport { Link } from "react-router-dom";\n\nconst ProductLayout = () => {\n  return (\n    <>\n      <nav>\n        <span>\n          <Link to="/products/1">Product 1</Link>\n        </span>\n        |<span>\n          <Link to="/products/2">Product 2</Link>\n        </span>|<span>\n          <Link to="/products/3">Product 3</Link>\n        </span>|<span>\n          <Link to="/products/features">Product Features</Link>\n        </span>\n      </nav>\n    </>\n  );\n};\n\nexport default ProductLayout;\n')),(0,o.kt)("p",null,"\u63a5\u8457\u56de\u5230 App.jsx\uff0c\u5c07 ProductLayout \u5f15\u5165\uff0c\u4e26\u5728 17 \u884c\u7684\u5730\u65b9\u5c07 element \u5ba3\u544a\u70ba ProductLayout\uff0c\u9019\u6a23\u8a2d\u5b9a\u5f8c\uff0c\u53ea\u8981\u662f\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"/products")," \u5e95\u4e0b\u7684 Route\uff0c\u90fd\u6703\u6e32\u67d3\u51fa ProductLayout\u3002"),(0,o.kt)("p",null,"\u9019\u908a\u4f60\u53ef\u4ee5\u628a ",(0,o.kt)("inlineCode",{parentName:"p"},"/products")," \u7576\u4f5c ",(0,o.kt)("inlineCode",{parentName:"p"},"parent route"),"\uff0c\u800c\u5305\u5728\u88e1\u9762\u7684\u7576\u4f5c ",(0,o.kt)("inlineCode",{parentName:"p"},"children route"),"\uff0c\u9019\u9ede\u5f88\u91cd\u8981\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='App.jsx' showLineNumbers {9,17}",title:"'App.jsx'",showLineNumbers:!0,"{9,17}":!0},'import { Routes, Route } from "react-router-dom";\nimport "./App.css";\nimport Header from "./pages/Header";\nimport Home from "./pages/Home";\nimport Products from "./pages/Products";\nimport Product from "./pages/Product";\nimport NotFound from "./pages/NotFound";\nimport Features from "./pages/Features";\nimport ProductLayout from "./pages/ProductLayout";\n\nfunction App() {\n  return (\n    <div className="App">\n      <Header />\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/products" element={<ProductLayout />}>\n          <Route index element={<Products />} />\n          <Route path=":id" element={<Product />} />\n          <Route path="features" element={<Features />} />\n        </Route>\n        <Route path="*" element={<NotFound />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("p",null,"\u9019\u6642\u5019\u4f60\u6703\u767c\u73fe\u4e00\u4ef6\u4e8b\uff0c\u9ede\u4e86\u756b\u9762\u4e2d\u7684 Product \u548c Product Features\uff0c\u7db2\u5740\u6709\u8ddf\u8457\u8b8a\u52d5\uff0c\u4f46\u756b\u9762\u537b\u6c92\u6709\u986f\u793a\u5167\u5bb9\uff0c\u9019\u662f\u4e0d\u6b63\u5e38\u7684\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/vSTPMkx.gif",alt:null})),(0,o.kt)("p",null,"\u800c\u6211\u5011\u53ea\u8981\u5728 ProductLayout \u4e2d\u5f15\u5165 ",(0,o.kt)("inlineCode",{parentName:"p"},"Outlet")," Component\uff0c\u4e26\u5c07\u4ed6\u6e32\u67d3\u5728\u756b\u9762\u4e0a\u5373\u53ef\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='ProdcutLayout.jsx' showLineNumbers",title:"'ProdcutLayout.jsx'",showLineNumbers:!0},'import React from "react";\nimport { Link, Outlet } from "react-router-dom";\n\nconst ProductLayout = () => {\n  return (\n    <>\n      <nav>\n        <span>\n          <Link to="/products/1">Product 1</Link>\n        </span>\n        |<span>\n          <Link to="/products/2">Product 2</Link>\n        </span>|<span>\n          <Link to="/products/3">Product 3</Link>\n        </span>|<span>\n          <Link to="/products/features">Product Features</Link>\n        </span>\n      </nav>\n      <Outlet />\n    </>\n  );\n};\n\nexport default ProductLayout;\n')),(0,o.kt)("p",null,"Outlet \u901a\u5e38\u5728\u7236\u8def\u7531(parent route)\u4e2d\u4f7f\u7528\uff0c\u76ee\u7684\u662f\u8b93\u5b50\u8def\u7531(child route)\u80fd\u5920\u88ab\u5339\u914d\u4e26\u5c07\u8a72\u5b50\u8def\u7531\u7684 element \u6e32\u67d3\u5230\u756b\u9762\u4e0a\u3002"),(0,o.kt)("p",null,"\u95dc\u65bc Outlet\uff0c\u5b98\u65b9\u7684\u5b9a\u7fa9\u70ba\uff1a"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"An ",(0,o.kt)("inlineCode",{parentName:"p"},"<Outlet>")," should be used in parent route elements to render their child route elements. This allows nested UI to show up when child routes are rendered. If the parent route matched exactly, it will render a child index route or nothing if there is no index route.")),(0,o.kt)("h2",{id:"advanced-404-not-found-usenavigate"},"Advanced 404 Not Found (useNavigate)"),(0,o.kt)("p",null,"useNavigate \u53ef\u4ee5\u8b93\u6211\u5011\u81ea\u884c\u6c7a\u5b9a\u5728\u4ec0\u9ebc\u6a23\u7684\u60c5\u6cc1\u4e0b\uff0c\u8a72\u5c0e\u5411\u54ea\u500b\u9801\u9762\uff0c\u4f8b\u5982\u4f7f\u7528\u8005\u4eca\u5929\u8a2a\u554f\u4e86\u4e0d\u5b58\u5728\u7684 Route\uff0c\u9019\u6642\u5019\u6703\u5c0e\u5411 404 Not Found \u7684\u9801\u9762\uff0c\u800c\u6211\u5011\u53ef\u4ee5\u4f7f\u7528 useNavigate \u8b93\u4f7f\u7528\u8005\u56de\u5230\u67d0\u500b\u6b63\u5e38\u7684\u9801\u9762\uff0c\u50cf\u662f\u9996\u9801(Home)\u3002"),(0,o.kt)("p",null,"\u73fe\u5728\u6253\u958b ",(0,o.kt)("inlineCode",{parentName:"p"},"NotFound.jsx"),"\uff0c\u5c07\u4ee5\u4e0b\u7a0b\u5f0f\u78bc\u65b0\u589e\u9032\u53bb\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='NotFound.jsx' showLineNumbers",title:"'NotFound.jsx'",showLineNumbers:!0},'import React, { useEffect } from "react";\nimport { useNavigate } from "react-router-dom";\n\nconst NotFound = () => {\n  const navigate = useNavigate();\n  useEffect(() => {\n    setTimeout(() => {\n      navigate("/"); //1\u79d2\u5f8c\u5c0e\u5411\u4e3b\u9801\u9762\n    }, 1000);\n  }, []);\n  return <h1>404 Not Found</h1>;\n};\n\nexport default NotFound;\n')),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/bKejl5s.gif",alt:null})),(0,o.kt)("h2",{id:"useroutes"},"useRoutes"),(0,o.kt)("p",null,"\u6700\u5f8c\u4f86\u4ecb\u7d39\u4e00\u4e0b ",(0,o.kt)("inlineCode",{parentName:"p"},"useRoutes"),"\uff0cuseRoutes \u662f\u4e00\u500b\u80fd\u5920\u5be6\u73fe\u5206\u985e Route \u7684 Hook\uff0c\u5148\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"src")," \u76ee\u9304\u5e95\u4e0b\u65b0\u589e\u4e00\u500b\u8cc7\u6599\u593e\uff0c\u540d\u70ba ",(0,o.kt)("inlineCode",{parentName:"p"},"routes"),"\uff0c\u4e26\u5728\u88e1\u9762\u65b0\u589e\u4e00\u500b\u6a94\u6848\uff0c\u540d\u70ba",(0,o.kt)("inlineCode",{parentName:"p"},"productRoutes.jsx"),"\uff0c\u63a5\u8457\u5c07\u4ee5\u4e0b\u7a0b\u5f0f\u78bc\u65b0\u589e\u9032\u53bb\u3002"),(0,o.kt)("p",null,"\u9019\u908a\u6211\u5011\u53ea\u5c55\u793a\u5c07 ",(0,o.kt)("inlineCode",{parentName:"p"},"products routes")," \u62bd\u96e2\u51fa\u4f86\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u5c31\u6703\u7701\u7565\u4e86 ",(0,o.kt)("inlineCode",{parentName:"p"},"Home")," \u4f60\u7576\u7136\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5b8c\u6210\u5b83\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='productRoutes.jsx' showLineNumbers",title:"'productRoutes.jsx'",showLineNumbers:!0},'import Features from "../pages/Features";\nimport NotFound from "../pages/NotFound";\nimport Product from "../pages/Product";\nimport ProductLayout from "../pages/ProductLayout";\nimport Products from "../pages/Products";\n\nconst productRoutes = [\n  {\n    path: "/products",\n    element: <ProductLayout />,\n    children: [\n      { path: "", element: <Products /> },\n      { path: ":id", element: <Product /> },\n      { path: "features", element: <Features /> },\n    ],\n  },\n  {\n    path: "*",\n    element: <NotFound />,\n  },\n];\n\nexport default productRoutes;\n')),(0,o.kt)("p",null,"\u56de\u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"App.jsx"),"\uff0c\u5c07 useRoutes \u548c productRoutes \u5f15\u5165\uff0c"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='App.jsx' showLineNumbers",title:"'App.jsx'",showLineNumbers:!0},'import { Routes, Route, useRoutes } from "react-router-dom";\nimport "./App.css";\nimport Header from "./pages/Header";\nimport productRoutes from "./routes/productRoutes";\nfunction App() {\n  const productRouting = useRoutes(productRoutes);\n  return (\n    <div className="App">\n      <Header />\n      {productRoutes}\n    </div>\n  );\n}\n\nexport default App;\n')))}m.isMDXComponent=!0}}]);