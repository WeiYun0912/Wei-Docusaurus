"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1855],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>R});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),l=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):u(u({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(n),R=o,v=m["".concat(i,".").concat(R)]||m[R]||c[R]||a;return n?r.createElement(v,u(u({ref:t},p),{},{components:n})):r.createElement(v,u({ref:t},p))}));function R(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,u=new Array(a);u[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,u[1]=s;for(var l=2;l<a;l++)u[l]=n[l];return r.createElement.apply(null,u)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1070:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>u,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const a={title:"React Router v6 \u7c21\u6613\u4ecb\u7d39",keywords:["react","react\u6559\u5b78","react router v6"],description:"\u4ecb\u7d39 React Router v6 \u8207 v5 \u4e4b\u9593\u7684\u5dee\u7570",author:"WeiYun0912","og:title":"React Router v6 \u7c21\u6613\u4ecb\u7d39","og:description":"\u4ecb\u7d39 React Router v6 \u8207 v5 \u4e4b\u9593\u7684\u5dee\u7570\u3002"},u=void 0,s={unversionedId:"React/React-Router",id:"React/React-Router",title:"React Router v6 \u7c21\u6613\u4ecb\u7d39",description:"\u4ecb\u7d39 React Router v6 \u8207 v5 \u4e4b\u9593\u7684\u5dee\u7570",source:"@site/docs/React/React-Router.md",sourceDirName:"React",slug:"/React/React-Router",permalink:"/Wei-Docusaurus/docs/React/React-Router",draft:!1,tags:[],version:"current",frontMatter:{title:"React Router v6 \u7c21\u6613\u4ecb\u7d39",keywords:["react","react\u6559\u5b78","react router v6"],description:"\u4ecb\u7d39 React Router v6 \u8207 v5 \u4e4b\u9593\u7684\u5dee\u7570",author:"WeiYun0912","og:title":"React Router v6 \u7c21\u6613\u4ecb\u7d39","og:description":"\u4ecb\u7d39 React Router v6 \u8207 v5 \u4e4b\u9593\u7684\u5dee\u7570\u3002"},sidebar:"tutorialSidebar",previous:{title:"React Query \u6559\u5b78",permalink:"/Wei-Docusaurus/docs/React/React-Query"},next:{title:"React useRef",permalink:"/Wei-Docusaurus/docs/React/React-useRef"}},i={},l=[{value:"Configuring Routes",id:"configuring-routes",level:2},{value:"Link",id:"link",level:2},{value:"exact",id:"exact",level:2},{value:"NavLink",id:"navlink",level:2},{value:"useNavigate",id:"usenavigate",level:2},{value:"useParams",id:"useparams",level:2},{value:"useSearchParams",id:"usesearchparams",level:2},{value:"useRoutes",id:"useroutes",level:2},{value:"404 \u9801\u9762",id:"404-\u9801\u9762",level:2}],p={toc:l};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://reactrouter.com/docs/en/v6"},"React Router Docs")),(0,o.kt)("h2",{id:"configuring-routes"},"Configuring Routes"),(0,o.kt)("p",null,"\u8ddf\u524d\u5e7e\u500b\u7248\u672c\u5dee\u4e0d\u591a\uff0c\u5728\u7528 Router \u7684\u6642\u5019\u5fc5\u9808\u8981\u5148\u5f15\u5165 BroswerRouter \u4f86\u5305\u4f4f\u6574\u500b component\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="App.js" showLineNumbers',title:'"App.js"',showLineNumbers:!0},'import Home from "./components/Home";\nimport About from "./components/About";\nimport { BrowserRouter as Router, Routes, Route } from "react-router-dom";\n\nfunction App() {\n  return (\n    <Router>\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/about" element={<About />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Routes\uff1a\u8ddf\u524d\u7248\u672c\u7684 Switch \u7684\u529f\u7528\u5dee\u4e0d\u591a\uff0c\u5728 Routes \u88e1\u9762\u7684 component \u90fd\u5fc5\u9808\u5b9a\u7fa9 Route\uff0c\u4e0d\u7136\u6703\u5831\u932f\u3002")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Route\uff1a\u4e4b\u524d\u7684\u4f7f\u7528\u65b9\u6cd5\u662f\u5728 Route \u4e0a\u4f7f\u7528"component"\u5c6c\u6027\uff0c\u73fe\u5728\u6539\u70ba element \u5c6c\u6027\uff0cpath \u7684\u8a2d\u5b9a\u4e00\u6a23\u3002'))),(0,o.kt)("h2",{id:"link"},"Link"),(0,o.kt)("p",null,"\u5982\u679c\u8981\u5230 Route \u5b9a\u7fa9\u7684 path\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 Link Component\uff0c\u4f7f\u7528\u7684\u65b9\u6cd5\u4e5f\u975e\u5e38\u7c21\u55ae\uff0c\u53ea\u8981\u5728 Link \u52a0\u4e0a to \u5c6c\u6027\u6307\u5411\u5230 path \u5c31\u597d\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="App.js" showLineNumbers',title:'"App.js"',showLineNumbers:!0},'import Home from "./components/Home";\nimport About from "./components/About";\nimport { BrowserRouter as Router, Routes, Route, Link } from "react-router-dom";\n\nfunction App() {\n  return (\n    <Router>\n      <nav>\n        <Link to="/">Home</Link>|<Link to="/about">About</Link>\n      </nav>\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/about" element={<About />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("h2",{id:"exact"},"exact"),(0,o.kt)("p",null,'\u4e4b\u524d\u7684\u7248\u672c\u5728\u5b9a\u7fa9 Route \u7684\u6642\u5019\u6703\u767c\u751f\u4e00\u500b\u60c5\u6cc1\uff0c\u5047\u5982\u7db2\u9801\u7684 url \u662f localhost:3000/about\uff0c\u90a3\u5047\u5982\u6211\u5728 Router \u7684\u5b9a\u7fa9\u5982\u4e0b\uff0c\u5247\u6703\u9023\u540c "/" \u4e00\u8d77\u5339\u914d\u5230\uff0c\u6240\u4ee5\u90fd\u6703\u5728 path \u662f "/" \u7684\u52a0\u4e0a exact\uff0c\u610f\u601d\u5c31\u662f\u56b4\u683c\u5339\u914d\uff0c\u800c\u5728 v6 \u5df2\u7d93\u5167\u5efa\u56b4\u683c\u5339\u914d\u4e86\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u7279\u5225\u505a\u8a2d\u5b9a\u3002'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="\u820a\u7248\u672c(v5)" showLineNumbers',title:'"\u820a\u7248\u672c(v5)"',showLineNumbers:!0},'<Router>\n  <Route path={"/"} exact component={Home} />\n  <Route path={"/about"} component={About} />\n</Router>\n')),(0,o.kt)("h2",{id:"navlink"},"NavLink"),(0,o.kt)("p",null,"v5 \u7248\u672c\u7684 activeClassName \u5df2\u7d93\u88ab\u79fb\u9664\u4e86\uff0c\u6700\u65b0\u7248\u7684 className \u6703\u81ea\u5e36 isActive \u7684\u53c3\u6578\uff0c\u6240\u4ee5\u76f4\u63a5\u7528\u8a72\u53c3\u6578\u4f86\u5224\u65b7\u662f\u5426 active \u5c31\u597d\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"showLineNumbers",showLineNumbers:!0},'<NavLink\n  className={(navData) => (navData.isActive ? "active" : "")}\n  to="/about"\n>\n  About\n</NavLink>\n')),(0,o.kt)("h2",{id:"usenavigate"},"useNavigate"),(0,o.kt)("p",null,"\u53d6\u4ee3\u4e86 v5 \u7684 useHistory\uff0c\u4f7f\u7528 useNavigate \u53ef\u4ee5\u5f88\u8f15\u9b06\u7684\u8df3\u8f49\u5230\u5176\u4ed6 Route path\uff0c\u7576\u7136\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Link Component\uff0c\u4f46\u5c31\u4e0d\u80fd\u5728 function \u88e1\u9762\u53bb\u505a\u4f7f\u7528\u3002"),(0,o.kt)("p",null,"\u5728\u820a\u7248\u7684 useHistory \u7576\u6211\u5011\u7db2\u9801\u9700\u8981\n\u56de\u5230\u4e0a\u4e00\u9801\u6216\u4e0b\u4e00\u9801\u6642\u6703\u4f7f\u7528 history.goBack()\u6216 history.goForward()"),(0,o.kt)("p",null,"\u800c\u5728\u65b0\u7248\u7684 navigate \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6578\u5b57\u4f86\u4ee3\u66ff"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript=",metastring:'title="About.js" showLineNumbers',title:'"About.js"',showLineNumbers:!0},'import React from "react";\nimport { useNavigate } from "react-router";\n\nconst About = () => {\n  const navigate = useNavigate();\n  return (\n    <div>\n      <h1>ABOUT PAGE</h1>\n      <button onClick={() => navigate("/")}>Go To Home Page</button>\n      <button onClick={() => navigate(1)}>1 step forward</button>\n      <button onClick={() => navigate(-1)}>1 step back</button>\n    </div>\n  );\n};\n\nexport default About;\n')),(0,o.kt)("h2",{id:"useparams"},"useParams"),(0,o.kt)("p",null,"\u5047\u4f7f\u6211\u5011\u5728\u4e00\u500b\u9801\u9762\u9700\u8981\u900f\u904e url \u7684\u53c3\u6578\u4f86\u53d6\u5f97\u8cc7\u6599\uff0c\n\u4f8b\u5982\uff1alocalhost:3000/profile/wei \u3001 localhost:3000/profile/yun"),(0,o.kt)("p",null,"\u6211\u5011\u60f3\u8981\u53d6\u5f97 url \u5f8c\u9762\u7684 wei \u8ddf yun\uff0c\u9019\u6642\u5019\u53ef\u4ee5\u900f\u904e useParams \u4f86\u5e6b\u52a9\u6211\u5011\uff0c\u4f46\u5728 Route \u7684\u90e8\u5206\u4e5f\u8981\u8a2d\u5b9a\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="App.js" showLineNumbers',title:'"App.js"',showLineNumbers:!0},'import "./App.css";\nimport { BrowserRouter as Router, Routes, Route, Link } from "react-router-dom";\nimport Home from "./components/Home";\nimport About from "./components/About";\nimport Profile from "./components/Profile";\nfunction App() {\n  return (\n    <Router>\n      <nav>\n        <Link to="/">Home</Link>|<Link to="/about">About</Link>\n      </nav>\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/about" element={<About />} />\n        <Route path="/profile/:name" element={<Profile />} /> //\u52a0\u4e0a /:name\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Profile.js" showLineNumbers',title:'"Profile.js"',showLineNumbers:!0},'import React from "react";\nimport { useParams } from "react-router";\n\nconst Profile = () => {\n  const { name } = useParams(); //\u8981\u8ddfRoute\u8a2d\u5b9a\u7684\u53c3\u6578\u540d\u7a31\u4e00\u6a23\n  return (\n    <div>\n      <h1>PROFILE PAGE</h1>\n      <h2>Hello {name}</h2>\n    </div>\n  );\n};\n\nexport default Profile;\n')),(0,o.kt)("p",null,"\u73fe\u5728\u5728 url \u8981\u662f\u8f38\u5165 localhost:3000/profile/wei \u6703\u770b\u5230\u4ee5\u4e0b\u756b\u9762"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/QhSSIlx.png",alt:null})),(0,o.kt)("h2",{id:"usesearchparams"},"useSearchParams"),(0,o.kt)("p",null,"\u5728\u7db2\u5740\u5982\u679c\u6709\u5e36\u4e00\u4e9b\u53c3\u6578\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 useSearchParams \u4f86\u53d6\u5f97\u8a72\u53c3\u6578\u7684\u503c\u3002"),(0,o.kt)("p",null,"\u5047\u8a2d\u7db2\u5740\u662f\uff1alocalhost:3000/profile/wei?sortby=id"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Profile.js" showLineNumbers',title:'"Profile.js"',showLineNumbers:!0},'import React from "react";\nimport { useParams } from "react-router";\nimport { useSearchParams } from "react-router-dom";\n\nconst Profile = () => {\n  const { name } = useParams();\n  let [searchParams] = useSearchParams();\n  console.log(searchParams.get("sortby")); //output : id\n  return (\n    <div>\n      <h1>PROFILE PAGE</h1>\n      <h2>Hello {name}</h2>\n    </div>\n  );\n};\n\nexport default Profile;\n')),(0,o.kt)("p",null,"\u5047\u8a2d\u7db2\u5740\u662f\uff1alocalhost:3000/profile/wei?test=1&test=2"),(0,o.kt)("p",null,"\u8981\u662f\u53c3\u6578\u6709\u5169\u500b\u540c\u540d\u7a31\u4f46\u4e0d\u540c\u503c\u7684\u8a71\uff0c\u53ef\u4ee5\u4f7f\u7528 getAll\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Profile.js" showLineNumbers',title:'"Profile.js"',showLineNumbers:!0},'import React from "react";\nimport { useParams } from "react-router";\nimport { useSearchParams } from "react-router-dom";\n\nconst Profile = () => {\n  const { name } = useParams();\n  let [searchParams] = useSearchParams();\n  console.log(searchParams.getAll("test")); //output : ["1","2"]\n  return (\n    <div>\n      <h1>PROFILE PAGE</h1>\n      <h2>Hello {name}</h2>\n    </div>\n  );\n};\n\nexport default Profile;\n')),(0,o.kt)("h2",{id:"useroutes"},"useRoutes"),(0,o.kt)("h2",{id:"404-\u9801\u9762"},"404 \u9801\u9762"),(0,o.kt)("p",null,"\u5047\u8a2d\u4eca\u5929\u5728 Routes \u5e95\u4e0b\u5339\u914d\u4e0d\u5230 path\uff0c\u6703\u51fa\u73fe\u7a7a\u767d\u9801\u9762\uff0c\u9019\u6642\u5019\u6211\u5011\u53ef\u4ee5\u81ea\u8a02 Error Component\uff0c\u7576\u5339\u914d\u4e0d\u5230\u6642\u5c31\u6703\u8df3\u5230\u8a72\u9801\u9762\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"App.js"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="App.js" showLineNumbers',title:'"App.js"',showLineNumbers:!0},'import Home from "./components/Home";\nimport About from "./components/About";\nimport Error from "./components/Error";\nimport { BrowserRouter as Router, Routes, Route } from "react-router-dom";\n\nfunction App() {\n  return (\n    <Router>\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/about" element={<About />} />\n        <Route path="*" element={<Error />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n')),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},'\u5728 path \u7684\u5730\u65b9\u52a0\u4e0a"',"*",'"\uff0c\u610f\u601d\u5c31\u662f Routes \u5e95\u4e0b\u5339\u914d\u4e0d\u5230\u7684\u6642\u5019\u624d\u6703\u53bb\u5339\u914d\u8a72 path\uff0c\u9019\u908a\u8981\u6ce8\u610f\u7684\u662f',(0,o.kt)("strong",{parentName:"p"},'path="',"*",'"\u7684 Route \u5fc5\u9808\u653e\u5728\u6700\u5e95\u4e0b\uff0c\u56e0\u70ba Routes \u5339\u914d\u662f\u6709\u512a\u5148\u9806\u5e8f\u7684\u3002'))))}c.isMDXComponent=!0}}]);